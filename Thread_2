# Thread-Concept

进程知识

1、什么是进程：
程序的一次执行过程（包含开始和结束）， 一个程序可以同时起多个进程，进程是操作系统进程资源分配的最小单位。
2、进程的切换
常见的发生进程切换的场景：
（1）有一个更高优先级的进程过来——抢占式操作系统
（2）任务完成（进程结束）
（3）每个进程都事先分配好时间片，时间到达后切换
（4）当前进程正在等待一个 外部事件——阻塞

3、切换引发的问题：进程中的上下文
保护和恢复（上一个进程的保护和恢 复）
上下文： 主要保存 (PC，其他寄存器等)
上下文简单来说就是一个环境，进程在时间片轮转切换时，由于每个进程运行环境不同，就涉及到转换前后的上下文环境的切换
（1）就是一个进程在执行的时候，CPU的所有寄存器中的值，进程的状态以及堆栈上的内容。
（2）切换时需要保持当前进程的所有状态，即保存当前进程的进程上下文，以便再次执行该进程时，能够恢复切换时的状态，继续执行。

4、CPU调度——【时间片】
操作系统的任务调度是采用时间片轮转的抢占式调度方式，也就是说一个任务执行一小段时间后强制暂停去执行下一个任务，每个任务轮流执行。

任务执行的一小段时间叫做时间片，任务正在执行时的状态叫运行状态，任务执行一段时间后强制暂停去执行下一个任务，被暂停的任务就处于就绪状态等待下一个属于它的时间片的到来。

这样每个任务都能得到执行，由于CPU的执行效率非常高，时间片非常短，在各个任务之间快速地切换，给人的感觉就是多个任务在“同时进行”，这也就是我们所说的并发。

5、并发 VS 并行
并发是假同步，并行是真同步；
并发：多个进程在一个CPU下 采用时间片轮转的方式，在一段时间之内，让多个进程都得以推进，称之为并发；

并行：多个进程在多个CPU下分别，同时进行运行，这称之为并行。

6、进程的五种状态
新建——就绪——运行——阻塞——终止
就绪：进程处于可运行状态，只是CPU时间片还没有轮转到该进程，则该进程处于就绪状态。

运行：进程处于可运行状态，且CPU时间片轮转到该进程，该进程正在执行代码，则该进程处于运行状态。

阻塞：进程不具备运行条件，正在等待某个事件的完成。
